{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/Projects/Hotel-management-Mern-stack-/client/hotel/src/Account.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./x.css\";\nimport Navbar from \"./Navbar\";\nimport { useState, useEffect } from \"react\";\nimport Modals from \"./Components/model\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateRoom } from './features/roomSlice/roomSlice';\nimport { storingInfo } from \"./features/userInfo/userSlice\";\nimport { createPayment, getPermissions, approve, Checkcout, checkoutRooms } from \"./utils/smartContract\";\nimport Modal from \"react-modal\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Account() {\n  _s();\n\n  const [modalISOpen, setModalISOpen] = useState(false);\n  const userId = useSelector(state => state.Hotel.User.User._id);\n  const Name = useSelector(state => state.Hotel.User.User.Name);\n  const Email = useSelector(state => state.Hotel.User.User.Email);\n  const img = useSelector(state => state.Hotel.User.User.img);\n  const Type = useSelector(state => state.Hotel.User.User.type);\n  const userRooms = useSelector(state => state.Hotel.User.User.rooms);\n  const Token = useSelector(state => state.Hotel.User.User.Token);\n  const [done, setDone] = useState(false);\n  const RoomsInfo = useSelector(state => state.Hotel.Room.Room);\n  const [modalISOpen2, setModalISOpen2] = useState(false);\n  const [modalISOpen3, setModalISOpen3] = useState(false);\n  const [bookedrooms, setbookedrooms] = useState([]);\n  const [final, setFinal] = useState([]);\n  let res = [];\n  let bookedId = [];\n  RoomsInfo.forEach(el => {\n    const index = res.findIndex(obj => {\n      return obj['id'] === el.id;\n    });\n\n    if (index === -1) {\n      res.push({\n        \"id\": el.id,\n        \"type\": el.type,\n        \"source\": el.source,\n        \"price\": el.price,\n        \"count\": 1\n      });\n    } else {\n      res[index][\"count\"]++;\n    }\n\n    ;\n  });\n  RoomsInfo.forEach(el => {\n    const index = bookedId.findIndex(obj => {\n      return obj['id'] === el.id;\n    });\n\n    if (index === -1) {\n      bookedId.push({\n        \"id\": el.id\n      });\n    } else {\n      bookedId[index][\"count\"]++;\n    }\n\n    ;\n  });\n  let TotalPrice = 0;\n  res.map(room => {\n    TotalPrice += room.price;\n  });\n  const dispatch = useDispatch();\n  useEffect(async () => {\n    if (Type == \"Manager\") {\n      const allDetails = [];\n      const array = await getPermissions();\n      console.log(array);\n\n      if (!array) {\n        return;\n      }\n\n      Promise.all(await array.map(async user => {\n        if (user.status == false) {\n          const users = await axios.get(\"http://localhost:3001/getUser?id=\" + user.onwerID);\n          allDetails.push({\n            reciptID: user.reciptID.toNumber(),\n            Email: users.data.Email,\n            TotalPayment: user.payment.toNumber(),\n            rooms: user.roomsID,\n            onwerID: user.onwerID\n          });\n        }\n      })).then(() => {\n        console.log(allDetails);\n        setFinal(allDetails);\n      });\n    }\n  }, []);\n  useEffect(async () => {\n    if (final.length > 0) {\n      setbookedrooms(final);\n      setDone(true);\n    }\n  }, [final]);\n  useEffect(() => {\n    console.log(\"hello2\");\n    console.log(final);\n    console.log(bookedrooms);\n  }, [done]);\n  useEffect(() => {}, [RoomsInfo]);\n  const headingStyle = {\n    backgroundImage: \"linear-gradient(to right, gray, red)\",\n    WebkitBackgroundClip: \"text\",\n    backgroundClip: \"text\",\n    WebkitTextFillColor: \"transparent\",\n    textFillColor: \"transparent\",\n    fontWeight: \"extrabold\"\n  };\n\n  const DeleteRoomHandler = id => {\n    dispatch(updateRoom(RoomsInfo.filter(object => {\n      return object.id !== id;\n    })));\n  };\n\n  const approveRequest = async (user, perindex) => {\n    if (await approve(user.reciptID)) {\n      alert(\"Accepted\");\n      console.log(user.onwerID);\n      axios.post(\"http://localhost:3001/giveRooms\", {\n        userId: user.onwerID,\n        room: user.rooms\n      }).then(result => {\n        alert(\"given rooms\");\n        console.log(result);\n      });\n      alert(\"Permission Accepted\");\n      setFinal(final.filter(index => {\n        return index != perindex;\n      }));\n    } //\n    else {\n      alert(\"Accepted by one person other one remaining\");\n    }\n  };\n\n  const rejectRequest = async (object, perindex) => {\n    console.log(object);\n\n    if (await checkoutRooms(object.reciptID, object.rooms)) {\n      alert(\"Permission Rejected\");\n      setFinal(final.filter((user, index) => {\n        return index !== perindex;\n      }));\n    } else {\n      alert(\"Something went wrong\");\n    }\n  };\n\n  const checkout = async object => {\n    console.log(object);\n\n    if (await Checkcout(object._id)) {\n      await axios.delete(\"http://localhost:3001/checkoutRooms?roomId=\" + object._id + \"&userId=\" + userId).then(result => {\n        alert(\"Room checkout\");\n        dispatch(storingInfo({\n          _id: userId,\n          Name: Name,\n          Email: Email,\n          Token: Token,\n          img: img,\n          limit: 0,\n          type: Type,\n          rooms: userRooms.filter(user => {\n            return user._id != object._id;\n          })\n        }));\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      class: \"Block\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: headingStyle,\n        children: \"Your Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          height: \"300px\",\n          width: \"300px\",\n          objectFit: 'cover'\n        },\n        src: img,\n        alt: \"Avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lab\",\n        style: {\n          marginTop: \"30px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: Email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"btn-dark\",\n        onClick: event => {\n          event.preventDefault();\n          setModalISOpen(true);\n        },\n        children: \"My Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), userRooms.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"btn-dark\",\n        onClick: event => {\n          event.preventDefault();\n          setModalISOpen3(true);\n        },\n        children: \"My Rooms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), (Type === \"Manager\" || Type === \"ThirdParty\") && /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"btn-dark\",\n        onClick: event => {\n          event.preventDefault();\n          setModalISOpen2(true);\n        },\n        children: \"Permissions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 52\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modals, {\n      modalISOpen: modalISOpen,\n      setModalISOpen: setModalISOpen,\n      res: res,\n      DeleteRoomHandler: DeleteRoomHandler,\n      insertOnwers: insertOnwers,\n      sum: TotalPrice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      class: \"modal\",\n      isOpen: modalISOpen2,\n      style: {\n        overlay: {\n          top: 100,\n          position: \"fixed\",\n          left: \"28%\",\n          backgroundColor: \"transparent\",\n          width: \"700px\",\n          outline: \"no\",\n          height: \"500px\",\n          transform: \"scale(1)\",\n          transition: \"transform 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946)\",\n          opacity: \"0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946)\"\n        },\n        content: {\n          position: \"absolute\"\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Permissions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        class: \"list-group\",\n        children: final === null || final === void 0 ? void 0 : final.map((object, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            class: \"list-group-item \",\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: object.Email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"$\", object.TotalPayment]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                height: \"50px\",\n                borderRadius: \"20px\"\n              },\n              onClick: e => approveRequest(object, index),\n              children: \"Accept\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                height: \"50px\",\n                borderRadius: \"20px\"\n              },\n              onClick: e => rejectRequest(object, index),\n              children: \"Reject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 11\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"closing\",\n          style: {\n            marginTop: \"20px\",\n            borderRadius: \"20px\"\n          },\n          onClick: () => setModalISOpen2(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      class: \"modal\",\n      isOpen: modalISOpen3,\n      style: {\n        overlay: {\n          top: 100,\n          position: \"fixed\",\n          left: \"28%\",\n          backgroundColor: \"transparent\",\n          width: \"700px\",\n          outline: \"no\",\n          height: \"500px\",\n          transform: \"scale(1)\",\n          transition: \"transform 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946)\",\n          opacity: \"0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946)\"\n        },\n        content: {\n          position: \"absolute\"\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"My Rooms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        class: \"list-group\",\n        children: userRooms === null || userRooms === void 0 ? void 0 : userRooms.map((object, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            class: \"list-group-item \",\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"image2\",\n              src: object.source,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: object.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"$\", object.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                height: \"50px\",\n                borderRadius: \"20px\"\n              },\n              onClick: e => checkout(object),\n              children: \"Checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 11\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"closing\",\n          style: {\n            marginTop: \"20px\",\n            borderRadius: \"20px\"\n          },\n          onClick: () => setModalISOpen3(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Account, \"+RK1Y4WyqYEv2+IUMd5KPgmvE/k=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = Account;\nexport default Account;\n\nvar _c;\n\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"sources":["/Users/macbook/Desktop/Projects/Hotel-management-Mern-stack-/client/hotel/src/Account.jsx"],"names":["Navbar","useState","useEffect","Modals","useSelector","useDispatch","updateRoom","storingInfo","createPayment","getPermissions","approve","Checkcout","checkoutRooms","Modal","axios","Account","modalISOpen","setModalISOpen","userId","state","Hotel","User","_id","Name","Email","img","Type","type","userRooms","rooms","Token","done","setDone","RoomsInfo","Room","modalISOpen2","setModalISOpen2","modalISOpen3","setModalISOpen3","bookedrooms","setbookedrooms","final","setFinal","res","bookedId","forEach","el","index","findIndex","obj","id","push","source","price","TotalPrice","map","room","dispatch","allDetails","array","console","log","Promise","all","user","status","users","get","onwerID","reciptID","toNumber","data","TotalPayment","payment","roomsID","then","length","headingStyle","backgroundImage","WebkitBackgroundClip","backgroundClip","WebkitTextFillColor","textFillColor","fontWeight","DeleteRoomHandler","filter","object","approveRequest","perindex","alert","post","result","rejectRequest","checkout","delete","limit","height","width","objectFit","marginTop","event","preventDefault","insertOnwers","overlay","top","position","left","backgroundColor","outline","transform","transition","opacity","content","display","justifyContent","borderRadius","e"],"mappings":"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","sourcesContent":["import \"./x.css\";\r\nimport Navbar from \"./Navbar\";\r\nimport { useState,useEffect} from \"react\";\r\nimport Modals from \"./Components/model\";\r\nimport { useSelector,useDispatch } from \"react-redux\";\r\nimport  {updateRoom} from './features/roomSlice/roomSlice'\r\nimport { storingInfo } from \"./features/userInfo/userSlice\";\r\nimport { createPayment,getPermissions,approve ,Checkcout,checkoutRooms} from \"./utils/smartContract\";\r\nimport Modal from \"react-modal\";\r\nimport axios from \"axios\";\r\nfunction Account() {\r\n  const [modalISOpen, setModalISOpen] = useState(false);\r\n  const userId = useSelector((state) => state.Hotel.User.User._id);\r\n  const Name = useSelector((state) => state.Hotel.User.User.Name);\r\n  const Email = useSelector((state) => state.Hotel.User.User.Email);\r\n  const img= useSelector((state) => state.Hotel.User.User.img);\r\n  const Type= useSelector((state) => state.Hotel.User.User.type);\r\n  const userRooms=useSelector((state) => state.Hotel.User.User.rooms);\r\n  const Token=useSelector((state) => state.Hotel.User.User.Token);\r\n  const [done,setDone]=useState(false)\r\nconst RoomsInfo = useSelector((state) => state.Hotel.Room.Room);\r\nconst [modalISOpen2, setModalISOpen2] = useState(false);\r\nconst [modalISOpen3, setModalISOpen3] = useState(false);\r\n  const [bookedrooms,setbookedrooms]=useState([])\r\n  const [final,setFinal]=useState([])\r\n  let res=[]\r\n   let bookedId=[]\r\n     RoomsInfo.forEach(el => {\r\n      const index = res.findIndex(obj => {\r\n         return obj['id'] === el.id;\r\n      });\r\n      if(index === -1){\r\n         res.push({\r\n            \"id\": el.id,\r\n            \"type\":el.type,\r\n            \"source\":el.source,\r\n            \"price\":el.price,\r\n            \"count\": 1\r\n         })\r\n      }\r\n      else{\r\n         res[index][\"count\"]++;\r\n      };\r\n   });\r\n   RoomsInfo.forEach(el => {\r\n    const index = bookedId.findIndex(obj => {\r\n       return obj['id'] === el.id;\r\n    });\r\n    if(index === -1){\r\n      bookedId.push({\r\n          \"id\": el.id,\r\n       })\r\n    }\r\n    else{\r\n      bookedId[index][\"count\"]++;\r\n    };\r\n });\r\n  let TotalPrice=0\r\n  res.map((room)=>{\r\n    TotalPrice+=room.price\r\n  })\r\n  const dispatch=useDispatch()\r\n  useEffect(async()=>{\r\n    if(Type==\"Manager\"){\r\n       const allDetails=[]\r\n       const array=await getPermissions()\r\n       console.log(array)\r\n       if(!array){\r\n        return;\r\n       }\r\n       Promise.all(\r\n        await array.map(async(user)=>{\r\n          if(user.status==false){\r\n            const users=await axios.get(\"http://localhost:3001/getUser?id=\"+user.onwerID)\r\n            allDetails.push({\r\n              reciptID:user.reciptID.toNumber(),\r\n              Email:users.data.Email,\r\n              TotalPayment:user.payment.toNumber(),\r\n              rooms:user.roomsID,\r\n              onwerID:user.onwerID\r\n            })\r\n          }\r\n         })\r\n       ).then(()=>{\r\n        console.log(allDetails)\r\n        setFinal(allDetails)\r\n       })\r\n      \r\n    }\r\n  },[])\r\n  useEffect(async()=>{\r\n    if(final.length>0){\r\n      setbookedrooms(final)\r\n      setDone(true);\r\n    }\r\n   },[final])\r\n  useEffect(()=>{\r\n    console.log(\"hello2\")\r\n    console.log(final)\r\nconsole.log(bookedrooms)\r\n  },[done])\r\n  useEffect(() => {\r\n\r\n  }, [RoomsInfo])\r\n  const headingStyle = {\r\n    backgroundImage: \"linear-gradient(to right, gray, red)\",\r\n    WebkitBackgroundClip: \"text\",\r\n    backgroundClip: \"text\",\r\n    WebkitTextFillColor: \"transparent\",\r\n    textFillColor: \"transparent\",\r\n    fontWeight: \"extrabold\",\r\n  };\r\nconst DeleteRoomHandler=(id)=>{\r\ndispatch(updateRoom(RoomsInfo.filter((object)=>{\r\n  return object.id!==id\r\n})))\r\n}\r\nconst approveRequest=async(user,perindex)=>{\r\n  if(await approve(user.reciptID)){\r\n    alert(\"Accepted\")\r\n    console.log(user.onwerID )\r\n    axios.post(\"http://localhost:3001/giveRooms\",{\r\n      userId:user.onwerID,\r\n      room:user.rooms\r\n    }).then((result)=>{\r\n      alert(\"given rooms\")\r\n      console.log(result)\r\n\r\n    })\r\n    alert(\"Permission Accepted\")\r\n    setFinal(final.filter((index)=>{\r\n      return index!=perindex\r\n    }))\r\n    \r\n  }//\r\n  else{\r\n    alert(\"Accepted by one person other one remaining\")\r\n  }\r\n}\r\nconst rejectRequest=async(object,perindex)=>{\r\n  console.log(object)\r\n  if(await checkoutRooms(object.reciptID,object.rooms)){\r\n    alert(\"Permission Rejected\")\r\n    setFinal(final.filter((user,index)=>{\r\n      return index!==perindex\r\n    }))\r\n    \r\n  }\r\n  else{\r\n    alert(\"Something went wrong\")\r\n  }\r\n}\r\nconst checkout=async(object)=>{\r\n  console.log(object)\r\n  if(await Checkcout(object._id)){\r\n     await axios.delete(\"http://localhost:3001/checkoutRooms?roomId=\"+object._id+\"&userId=\"+userId).then((result)=>{\r\n      alert(\"Room checkout\")\r\n      dispatch(storingInfo({\r\n        _id:userId,\r\n        Name:Name,\r\n        Email:Email,\r\n        Token:Token,\r\n        img:img,\r\n        limit:0,\r\n        type:Type,\r\n        rooms:userRooms.filter((user)=>{\r\n          return user._id!=object._id\r\n        })\r\n      }))\r\n     })\r\n  }\r\n}\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <form class=\"Block\">\r\n         <h3 style={headingStyle}>Your Information</h3>\r\n         <br></br>\r\n         <img\r\n          style={{ height: \"300px\", width: \"300px\",objectFit:'cover' }}\r\n          src={img}\r\n          alt=\"Avatar\"\r\n       />\r\n        <br></br>\r\n        <div className=\"lab\" style={{ marginTop: \"30px\" }}>\r\n\r\n          <b>\r\n            <label>Username</label>\r\n          </b>\r\n          <br></br>\r\n          <label>{Name}</label>\r\n          <br></br>\r\n          <b>\r\n            <label>Email</label>\r\n          </b>\r\n          <br></br>\r\n        </div>\r\n        <label>{Email}</label>\r\n        <br></br>\r\n        <button\r\n          class=\"btn-dark\"\r\n          onClick={(event) => {\r\n            event.preventDefault();\r\n            setModalISOpen(true);\r\n          }}\r\n        >\r\n          My Orders\r\n        </button>\r\n        {\r\n          userRooms.length>0&&\r\n          <button\r\n          class=\"btn-dark\"\r\n          onClick={(event) => {\r\n            event.preventDefault();\r\n            setModalISOpen3(true);\r\n          }}\r\n        >\r\n          My Rooms\r\n        </button>\r\n        }\r\n        {\r\n          (Type===\"Manager\"||Type===\"ThirdParty\")&&<button\r\n          class=\"btn-dark\"\r\n          onClick={(event) => {\r\n            event.preventDefault()\r\n            setModalISOpen2(true)\r\n          }}\r\n        >\r\n        Permissions\r\n        </button>\r\n        }\r\n       \r\n      </form>\r\n      <Modals modalISOpen={modalISOpen} setModalISOpen={setModalISOpen} res={res} DeleteRoomHandler={DeleteRoomHandler} insertOnwers={insertOnwers} sum={TotalPrice}/>\r\n      <Modal\r\n    class=\"modal\"\r\n    isOpen={modalISOpen2}\r\n    style={{\r\n      overlay: {\r\n        top:100,\r\n        position: \"fixed\",\r\n        left: \"28%\",\r\n        backgroundColor: \"transparent\",\r\n        width: \"700px\",\r\n        outline: \"no\",\r\n        height: \"500px\",\r\n        transform:\"scale(1)\",\r\n        transition:\"transform 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946)\",\r\n        opacity:\"0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946)\",\r\n\r\n      },\r\n      content: {\r\n        position: \"absolute\",\r\n      }\r\n    }}\r\n  >\r\n    <h1>Permissions</h1>\r\n    <ul class=\"list-group\">\r\n\r\n      {final?.map((object,index) => {\r\n        return (\r\n          \r\n          <li\r\n            class=\"list-group-item \"\r\n            style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n          >\r\n            <p>{object.Email}</p>\r\n            <p>${object.TotalPayment}</p>\r\n            <button style={{height:\"50px\",borderRadius:\"20px\"}} onClick={(e)=>approveRequest(object,index)}>Accept</button>\r\n            <button style={{height:\"50px\",borderRadius:\"20px\"}} onClick={(e)=>rejectRequest(object,index)}>Reject</button>\r\n          </li>\r\n      \r\n        );\r\n      })}\r\n    </ul>\r\n    <div style={{display:\"flex\",justifyContent:\"space-between\"}}>\r\n    <button\r\n      className=\"closing\"\r\n      style={{ marginTop: \"20px\" ,borderRadius:\"20px\" }}\r\n      onClick={() =>setModalISOpen2(false)}\r\n    >\r\n      Close\r\n    </button>\r\n    </div>\r\n  </Modal>\r\n  <Modal\r\n    class=\"modal\"\r\n    isOpen={modalISOpen3}\r\n    style={{\r\n      overlay: {\r\n        top:100,\r\n        position: \"fixed\",\r\n        left: \"28%\",\r\n        backgroundColor: \"transparent\",\r\n        width: \"700px\",\r\n        outline: \"no\",\r\n        height: \"500px\",\r\n        transform:\"scale(1)\",\r\n        transition:\"transform 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946)\",\r\n        opacity:\"0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946)\",\r\n\r\n      },\r\n      content: {\r\n        position: \"absolute\",\r\n      }\r\n    }}\r\n  >\r\n    <h1>My Rooms</h1>\r\n    <ul class=\"list-group\">\r\n\r\n      {userRooms?.map((object,index) => {\r\n        return (\r\n          \r\n          <li\r\n            class=\"list-group-item \"\r\n            style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n          >\r\n             <img className=\"image2\" src={object.source} alt=\"\"></img>\r\n            <p>{object.type}</p>\r\n            <p>${object.price}</p>\r\n            <button style={{height:\"50px\",borderRadius:\"20px\"}} onClick={(e)=>checkout(object)}>Checkout</button>\r\n          </li>\r\n      \r\n        );\r\n      })}\r\n    </ul>\r\n    <div style={{display:\"flex\",justifyContent:\"space-between\"}}>\r\n    <button\r\n      className=\"closing\"\r\n      style={{ marginTop: \"20px\" ,borderRadius:\"20px\" }}\r\n      onClick={() =>setModalISOpen3(false)}\r\n    >\r\n      Close\r\n    </button>\r\n    </div>\r\n  </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Account;\r\n"]},"metadata":{},"sourceType":"module"}